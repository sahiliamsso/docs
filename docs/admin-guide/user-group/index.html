
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documenation for Gluu Server">
      
      
      
      
        <link rel="shortcut icon" href="../../favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>User Management - Gluu Docs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
	 <div class="md-flex__cell md-flex__cell--shrink">
	    <a href="../.." title="Gluu Docs" class=" md-logo  md-header-nav__button">
          
            <img src="../../gluu.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Administration Guide
                </span>
              
            
            User Management
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/GluuFederation/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
<!-- Second Nav Bar 
<nav class="md-secondary-header-nav md-grid" style="
    height: 58px;
    background: white;
	color: #555555;
	font-weight: bold;
	font-size; 8px
	overflow: hidden;
">
<div class="md-flex-secondary" style="
    display: table;
    padding: 10px;
">
<label for="Versions">Ver:<select id="versions" onchange="window.location.href=this.value;" style="
    position: relative;
    display: inline-block;
    min-width: 100%;
    /* width: 120%; */
    height: 34px;
    padding: 6px 30px 6px 15px;
    color: #555555;
    border: none;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    z-index: 99;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 10px;
    border: 1px;
">
  <option value="/docs">Latest</option>
  <option value="/docs/2.4.4">2.4.4</option>
    </select> 
</label>
 </div>
 </nav>-->
   </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">

  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-logo  md-nav__button">
      
        <img src="../../gluu.jpg">
      
    </i>
    Gluu Docs
	<label for="Versions">Ver:
	  <select id="versions" onchange="window.location.href=this.value;" style="
		position: inherit;
		display: inline;
		min-width: 25%;
		/* width: 120%; */
		height: 22px;
		padding: 5px 15px 5px 5px;
		color: red;
		border: none;
		background: transparent;
		outline: none;
		-webkit-appearance: none;
		z-index: 99;
		cursor: pointer;
		font-size: 10px;
		margin-bottom: 10px;
		border: 1px solid black;
		overflow: auto
	">
	  <option value="/docs">Latest</option>
	  <option value="/docs/2.4.4">2.4.4</option>
		</select> 
	</label>
  </label>
    
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GluuFederation/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../../operation/intro/" title="Whats new in 3.0" class="md-nav__link">
        Whats new in 3.0
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Installation Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Installation Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../installation-guide/" title="Preparing VM" class="md-nav__link">
        Preparing VM
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../installation-guide/install/" title="Install Gluu Server" class="md-nav__link">
        Install Gluu Server
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../installation-guide/setup_py/" title="Setup Script Options" class="md-nav__link">
        Setup Script Options
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Upgrade/Patch Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3-4">
        Upgrade/Patch Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../upgrade/" title="Upgrade Gluu Server" class="md-nav__link">
        Upgrade Gluu Server
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../upgrade/manual-update/" title="Upgrade Gluu Server with OpenDJ" class="md-nav__link">
        Upgrade Gluu Server with OpenDJ
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../upgrade/update-war/" title="Updating a War File" class="md-nav__link">
        Updating a War File
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Administration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Administration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../oxtrust-ui/" title="oxTrust admin UI" class="md-nav__link">
        oxTrust admin UI
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../custom-script/" title="Interception Scripts" class="md-nav__link">
        Interception Scripts
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      User Authentication Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-3">
        User Authentication Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/intro/" title="User Authentication Introduction" class="md-nav__link">
        User Authentication Introduction
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/basic/" title="Basic Authenticatoin" class="md-nav__link">
        Basic Authenticatoin
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/passport/" title="Social Authentication" class="md-nav__link">
        Social Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/supergluu/" title="Super Gluu" class="md-nav__link">
        Super Gluu
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/U2F/" title="FIDO U2F" class="md-nav__link">
        FIDO U2F
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/duo/" title="Duo Security" class="md-nav__link">
        Duo Security
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/cert-auth/" title="Certificate Authentication" class="md-nav__link">
        Certificate Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/google/" title="Google+ OAuth 2.0" class="md-nav__link">
        Google+ OAuth 2.0
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/otp/" title="HOTP/TOTP" class="md-nav__link">
        HOTP/TOTP
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../authn-guide/customauthn/" title="Custom Authentication" class="md-nav__link">
        Custom Authentication
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        User Management
      </label>
    
    <a href="./" title="User Management" class="md-nav__link md-nav__link--active">
      User Management
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-user-management" title="Local User Management" class="md-nav__link">
    Local User Management
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage-people" title="Manage People" class="md-nav__link">
    Manage People
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage-groups" title="Manage Groups" class="md-nav__link">
    Manage Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-people" title="Import People" class="md-nav__link">
    Import People
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-structure" title="File Structure" class="md-nav__link">
    File Structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-registration" title="User Registration" class="md-nav__link">
    User Registration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-registration-custom-script" title="User Registration Custom Script" class="md-nav__link">
    User Registration Custom Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ldap-synchronization" title="LDAP Synchronization" class="md-nav__link">
    LDAP Synchronization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-tutorial" title="Video Tutorial" class="md-nav__link">
    Video Tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-to-remember" title="Things To Remember" class="md-nav__link">
    Things To Remember
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-to-know" title="Things To Know" class="md-nav__link">
    Things To Know
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-backend-key-and-attributes" title="Customer Backend Key and Attributes" class="md-nav__link">
    Customer Backend Key and Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-backend-ldap-servers" title="Source Backend LDAP Servers" class="md-nav__link">
    Source Backend LDAP Servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inum-ldap-server" title="Inum LDAP Server" class="md-nav__link">
    Inum LDAP Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes-mapping" title="Attributes Mapping" class="md-nav__link">
    Attributes Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scim-20" title="SCIM 2.0" class="md-nav__link">
    SCIM 2.0
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-user" title="Add User" class="md-nav__link">
    Add User
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-parameters" title="Required Parameters" class="md-nav__link">
    Required Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-string" title="JSON String" class="md-nav__link">
    JSON String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-object" title="User Object" class="md-nav__link">
    User Object
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-user" title="Delete User" class="md-nav__link">
    Delete User
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-parameter" title="Required Parameter" class="md-nav__link">
    Required Parameter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-extensions" title="User Extensions" class="md-nav__link">
    User Extensions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../session/" title="Session Timeout" class="md-nav__link">
        Session Timeout
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../saml/" title="SAML" class="md-nav__link">
        SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../openid-connect/" title="OpenID Connect" class="md-nav__link">
        OpenID Connect
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../uma/" title="UMA" class="md-nav__link">
        UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../scim-uma/" title="SCIM protected by UMA" class="md-nav__link">
        SCIM protected by UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../certificate/" title="Certificate Management" class="md-nav__link">
        Certificate Management
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Integration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5">
        Integration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Client SDKs
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5-1">
        Client SDKs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/oauth2/" title="oxd OAuth2" class="md-nav__link">
        oxd OAuth2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/oauth-js-implicit/" title="OAuth2.0 js Implicit Flow" class="md-nav__link">
        OAuth2.0 js Implicit Flow
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Web Server Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5-2">
        Web Server Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/saml-sp/" title="Shibboleth SP" class="md-nav__link">
        Shibboleth SP
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/openidc-rp/" title="mod_auth_openidc" class="md-nav__link">
        mod_auth_openidc
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      SaaS Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5-3">
        SaaS Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/google/" title="Google SSO" class="md-nav__link">
        Google SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/office/" title="Office 365" class="md-nav__link">
        Office 365
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/salesforce/" title="Salesforce" class="md-nav__link">
        Salesforce
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integration/dropbox/" title="Dropbox" class="md-nav__link">
        Dropbox
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      Gluu API Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6-1">
        Gluu API Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../api-guide/api/" title="Custom ID Generation" class="md-nav__link">
        Custom ID Generation
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api-guide/openid-connect-api/" title="OpenID Connect API" class="md-nav__link">
        OpenID Connect API
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api-guide/scim-api/" title="SCIM API Configuration" class="md-nav__link">
        SCIM API Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api-guide/uma-api/" title="UMA API" class="md-nav__link">
        UMA API
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      JSON Properties
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6-2">
        JSON Properties
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/JSON-oxtrust-prop/" title="OxTrust JSON Properties" class="md-nav__link">
        OxTrust JSON Properties
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/JSON-oxauth-prop/" title="OxAuth JSON Properties" class="md-nav__link">
        OxAuth JSON Properties
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Gluu LDAP Schema
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6-3">
        Gluu LDAP Schema
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxldap/" title="Ox LDAP Properties" class="md-nav__link">
        Ox LDAP Properties
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/schema/" title="OpenLDAP Schema" class="md-nav__link">
        OpenLDAP Schema
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Operation Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-7">
        Operation Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/backup/" title="Backups" class="md-nav__link">
        Backups
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/find-gluu-version/" title="Find your Gluu Version" class="md-nav__link">
        Find your Gluu Version
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/ports/" title="Ports" class="md-nav__link">
        Ports
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/logout/" title="Single Logout (SLO)" class="md-nav__link">
        Single Logout (SLO)
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/logs/" title="Log Management" class="md-nav__link">
        Log Management
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/faq/" title="FAQ & Troubleshooting" class="md-nav__link">
        FAQ & Troubleshooting
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../operation/custom-loginpage/" title="Customize Login Page" class="md-nav__link">
        Customize Login Page
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-8">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../developer-guide/oxtrust-eclipse/" title="Build OxTrust with Eclipse" class="md-nav__link">
        Build OxTrust with Eclipse
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-user-management" title="Local User Management" class="md-nav__link">
    Local User Management
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage-people" title="Manage People" class="md-nav__link">
    Manage People
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage-groups" title="Manage Groups" class="md-nav__link">
    Manage Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-people" title="Import People" class="md-nav__link">
    Import People
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-structure" title="File Structure" class="md-nav__link">
    File Structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-registration" title="User Registration" class="md-nav__link">
    User Registration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-registration-custom-script" title="User Registration Custom Script" class="md-nav__link">
    User Registration Custom Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ldap-synchronization" title="LDAP Synchronization" class="md-nav__link">
    LDAP Synchronization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-tutorial" title="Video Tutorial" class="md-nav__link">
    Video Tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-to-remember" title="Things To Remember" class="md-nav__link">
    Things To Remember
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-to-know" title="Things To Know" class="md-nav__link">
    Things To Know
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-backend-key-and-attributes" title="Customer Backend Key and Attributes" class="md-nav__link">
    Customer Backend Key and Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-backend-ldap-servers" title="Source Backend LDAP Servers" class="md-nav__link">
    Source Backend LDAP Servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inum-ldap-server" title="Inum LDAP Server" class="md-nav__link">
    Inum LDAP Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes-mapping" title="Attributes Mapping" class="md-nav__link">
    Attributes Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scim-20" title="SCIM 2.0" class="md-nav__link">
    SCIM 2.0
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-user" title="Add User" class="md-nav__link">
    Add User
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-parameters" title="Required Parameters" class="md-nav__link">
    Required Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-string" title="JSON String" class="md-nav__link">
    JSON String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-object" title="User Object" class="md-nav__link">
    User Object
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-user" title="Delete User" class="md-nav__link">
    Delete User
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-parameter" title="Required Parameter" class="md-nav__link">
    Required Parameter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-extensions" title="User Extensions" class="md-nav__link">
    User Extensions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/GluuFederation/docs/blob/master/source/admin-guide\user-group.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <h1 id="user-management-in-gluu-server">User Management in Gluu Server<a class="headerlink" href="#user-management-in-gluu-server" title="Permanent link">#</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p>You can either "push" or "pull" identity data to the Gluu server to keep 
it up-to-date with the latest user claims. In the "pull" mode, otherwise known as LDAP Synchronization or Cache Refresh, the Gluu Server can use one or more existing LDAP identity sources (like Microsoft Active Directory) as the authoritative source of identity information. To "push" identities to the Gluu Server you can use the JSON/REST SCIM API. Local user management can also be performed inside oxTrust. Each method is detailed below.</p>
<h2 id="local-user-management">Local User Management<a class="headerlink" href="#local-user-management" title="Permanent link">#</a></h2>
<p>In oxTrust, you can add, edit and manage people, groups and user
attributes and claims to ensure the proper information is released about
the right people.</p>
<h3 id="manage-people">Manage People<a class="headerlink" href="#manage-people" title="Permanent link">#</a></h3>
<p>To manage people, navigate to <code>User</code> &gt; <code>Manage People</code>.</p>
<p>From this interface you can add and search users. Because the user database can potentially be very large, a value is required in the search field. In other words, you can not click search with a blank entry to populate all users. If you need to see all users, this would be best performed manually within the Gluu LDAP server. Upon performing a user search in oxTrust a list will be populated with all users that match the search.</p>
<p><img alt="Search Users" src="../../img/admin-guide/user/admin_users_searchadmin.png" /></p>
<p>To edit a user, simply click on any of the hyperlinks associated with
that user and you will be taken to a user management interface where you
can modify specific attributes relating to that user.</p>
<p><img alt="Manage Users" src="../../img/admin-guide/user/admin_users_edituser.png" /></p>
<h3 id="manage-groups">Manage Groups<a class="headerlink" href="#manage-groups" title="Permanent link">#</a></h3>
<p>Out of the box, the Gluu Server includes one group: the Gluu Manager
Group (<code>gluuManager</code>). Groups can be added and populated as
needed. By using the <code>Manage Groups</code> feature, the Gluu Server
Administrator can add, delete or modify any group or user within a
group. The list of available groups can be viewed by hitting the
<code>Search</code> button with a blank search box.
<img alt="Manage User Groups" src="../../img/admin-guide/user/admin_users_managegroups.png" /></p>
<p>The Gluu Server Administrator can modify information such as Display
Name, Group Owner, Visibility type etc. The Server Administrator can
also add or delete users within existing groups. The group information
is represented as shown below.
<img alt="View group information" src="../../img/admin-guide/user/admin_users_groupinfo.png" /></p>
<p>If any member of the Organization is required to be added in any
specific group, this can be achieved be clicking on the Add Member
button. The flow is <em>Add Member --&gt; Search the name/email of the user
--&gt; Select the user --&gt; Click OK --&gt; Update.</em>
<img alt="Add Member" src="../../img/admin-guide/user/admin_users_addmember.png" /></p>
<h3 id="import-people">Import People<a class="headerlink" href="#import-people" title="Permanent link">#</a></h3>
<p>Gluu Server allows the administrator to import users from a file. This can be accessed by navigating to <code>Users</code> &gt; <code>Import People</code>.</p>
<p><img alt="image" src="../../img/admin-guide/user/import-people_add.png" /></p>
<ul>
<li>Click on the <code>Add</code> button to select the file from which the users will be imported. This feature has been tested with a <code>xls</code> file.</li>
</ul>
<p><img alt="image" src="../../img/admin-guide/user/import-people_validate.png" /></p>
<ul>
<li>The file needs to be validated before it can be imported. Click on the <code>Validate</code> button.</li>
</ul>
<p><img alt="import" src="../../img/admin-guide/user/import-people_import.png" /></p>
<ul>
<li>Click on the <code>Import</code> button to complete the import of users.</li>
</ul>
<h4 id="file-structure">File Structure<a class="headerlink" href="#file-structure" title="Permanent link">#</a></h4>
<p>The file needs to contain the following fields from which the user data will be pulled. Please remember to use the exact spelling as shown here.</p>
<ul>
<li>
<p>Username</p>
</li>
<li>
<p>First Name</p>
</li>
<li>
<p>Last Name</p>
</li>
<li>
<p>Email</p>
</li>
</ul>
<h2 id="user-registration">User Registration<a class="headerlink" href="#user-registration" title="Permanent link">#</a></h2>
<p>The Gluu Server is shipped with a very basic user registration feature. The registration page can typically be found at <code>https://&lt;hostname&gt;/identity/register</code>. It's important to note that when user registration is handled via oxTrust, the users can <strong>not</strong> be added to a backend LDAP or Active Directory server. This means that self-registration via oxTrust is only effective if users are authenticated by GluuLDAP (and not a backend LDAP or AD server).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When possible, we recommend handling user registration in your app locally, then pushing the user information to the Gluu Server via SCIM. This will give you more control and flexibility in defining the exact registration process. Also, since it was primarily designed as an interface for admins, frequently oxTrust is not Internet facing.</p>
</div>
<p>A limited number of attributes are present in the default registration form. If more attributes are needed they can be added via the GUI by navigating to <code>Organization Configuration</code> &gt; <code>Manage Registration</code>. Learn how to <a href="../oxtrust-ui.md/#manage-registration">add attributes</a> to the default registration form. </p>
<h3 id="user-registration-custom-script">User Registration Custom Script<a class="headerlink" href="#user-registration-custom-script" title="Permanent link">#</a></h3>
<p>The <a href="../custom-script.md/#user-registration">User Registration</a> custom script can be used to control and validate user registrations. In the oxTrust GUI, navigate to <code>Configuration</code> &gt; <code>Manage Custom Scripts</code> &gt; <code>User Registration</code>. </p>
<p><img alt="image" src="../../img/admin-guide/user/config-manage-script_menu1.png" /></p>
<p>Set the <code>enable_user</code> value to <code>true</code> so that the user can login as soon as the registration is complete. If you want to manually review and approve new user registrations, you can leave this value set to <code>false</code>.</p>
<p><img alt="image" src="../../img/admin-guide/user/config-manage-script_enable.png" /></p>
<p>Click <code>Enable</code> checkbox at the bottom of the page.</p>
<p><img alt="image" src="../../img/admin-guide/user/config-manage-script_check.png" /></p>
<p>Now users should be able to self-register through the user registration link, which should be available at <code>&lt;hostname&gt;/identity/register</code>.</p>
<p><img alt="image" src="../../img/admin-guide/user/config-manage-script_enable.png" /></p>
<h2 id="ldap-synchronization">LDAP Synchronization<a class="headerlink" href="#ldap-synchronization" title="Permanent link">#</a></h2>
<p>LDAP Synchronization, a.k.a. Cache Refresh, is the process of connecting one or more existing backend LDAP servers, like Microsoft Active Directory, with the Gluu Server's local LDAP server. Synching people and attributes from a backend server speeds up authentication transactions. It is possible to perform attribute transformations, changing the name of attributes, or even using an interception script to change the values. Transformations are stored in the Gluu LDAP service. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are synching user information from multiple backend servers (AD or LDAP) simultaneously, the backend tree structure should be identical.</p>
</div>
<h3 id="video-tutorial">Video Tutorial<a class="headerlink" href="#video-tutorial" title="Permanent link">#</a></h3>
<p>For a guided video overview of configuring Cache Refresh, please watch the following three videos:  <br />
- <a href="https://youtu.be/VnyCTUCRkic">Part 1: What is 'Cache Refresh' and How Does it Work?</a>   <br />
- <a href="https://youtu.be/c64l_xmBbvw">Part 2: Configuring Cache Refresh in the Gluu Server</a>  <br />
- <a href="https://youtu.be/fyAEwJuwqn4">Part 3: Managing Authentication After You've Setup Cache Refresh</a>    </p>
<h3 id="things-to-remember">Things To Remember<a class="headerlink" href="#things-to-remember" title="Permanent link">#</a></h3>
<p>The Gluu Server supports two LDAP modes: </p>
<ul>
<li>Authentication </li>
<li>Identity mapping</li>
</ul>
<p>Only sometimes is it the same LDAP server. To synchronize user accounts from an external LDAP directory server, you can use the built-in oxTrust features for Cache Refresh, which supports mapping identities from one or more source directory servers.</p>
<p>After configuring Cache Refresh, you should give it some time to run and populate the LDAP server. Here are some tips before you get started:</p>
<ul>
<li>
<p>Enable 'Keep External Person' during CR setup. This will allow your
  default user 'admin' to log into Gluu Server after initial Cache 
  Refresh iteration. If you do not enable 'Keep External Person', your 
  'admin' user including all other test users will be gone after first 
  Cache Refresh iteration.</p>
</li>
<li>
<p>Make sure you are using LDAP authentication, not VDS. You will only
  need VDS setting if you are using the Radiant Logic Virtual Directory
  Server.</p>
</li>
<li>
<p>Check the snapshots folder to see if files are being created.</p>
</li>
<li>
<p>Use the oxTrust admin to browse users.</p>
</li>
<li>
<p>Use the command <code>ldapsearch</code> to check to see if results are starting
  to come in. The following command will search for the total number of
  users in the Gluu LDAP:</p>
</li>
</ul>
<pre><code># /opt/opendj/bin/ldapsearch -h localhost -p 1636 -Z -X -D &quot;cn=directory manager&quot; -w 'pass_of_ldap_ -b 'ou=people,o=DA....,o=gluu' dn | grep &quot;dn\:&quot; | wc -l
</code></pre>

<ul>
<li>Try to login with one of these users. We assume that you have also
  setup your Gluu Server to use the correct LDAP server for
  authentication.</li>
</ul>
<h3 id="things-to-know">Things To Know<a class="headerlink" href="#things-to-know" title="Permanent link">#</a></h3>
<p>The deployer needs to know various values of the backend AD to
configure Cache Refresh. For example, host &amp; port, bindDN user information,
bindDN password, Objectclasses, attributes which will be
pulled etc.</p>
<p>In addition, the deployer needs to know generic information about the
Gluu Server's LDAP. By default, the deployer can use <code>localhost:1636</code>,
<code>cn=directory manager</code>, <code>password</code> chosen during installation,
<code>ou=people,o=site</code> as server information, <code>bindDN</code>, <code>bindDN password</code> and
<code>baseDN</code> respectively.</p>
<p>After collecting this information, the deployer can move forward with
the Cache Refresh setup.</p>
<p><img alt="Cache Refresh Menu" src="../../img/admin-guide/user/admin_cache_menu.png" /></p>
<ul>
<li>
<p><em>Last Run:</em> The date and time of the latest cache refresh cycle
  completion is shown here.</p>
</li>
<li>
<p><em>Updates at the Last Run:</em> This shows the total number of users who
  have been updated in the last Cache Refresh cycle. For example an user
  who has any of his attribute updated will show up here.</p>
</li>
<li>
<p><em>Problem at the Last Run:</em> This shows the number of users who have
  been rejected by the Gluu Server during the update. If there are any
  rejections, please contact Gluu Support for clarification and help.</p>
</li>
</ul>
<p><img alt="Last Run" src="../../img/admin-guide/user/admin_cache_lastrun1.png" /></p>
<h3 id="customer-backend-key-and-attributes">Customer Backend Key and Attributes<a class="headerlink" href="#customer-backend-key-and-attributes" title="Permanent link">#</a></h3>
<p><img alt="Customer Backend Key" src="../../img/admin-guide/user/admin_cache_backend.png" /></p>
<ul>
<li>
<p><em>Key Attribute:</em> This is the unique key attribute of backend Active
  Directory/LDAP Server such as SAMAccountname for any Active Directory.</p>
</li>
<li>
<p><em>Object Class:</em> This contains the Object Classes of the backend Active
  Directory/LDAP which has permission to talk to Gluu Server Cache Refresh
  such as person, organizationalPerson, user etc.</p>
</li>
<li>
<p><em>Source Attribute:</em> This contains the list of attributes which will be
  pulled and read by the Gluu Server.</p>
</li>
<li>
<p><em>Custom LDAP Filter:</em> If there is any custom search required, this
filtering mechanism can be used such as "sn=*" whereas the value of this
field ensures that every user must contain an attribute named SN.</p>
</li>
</ul>
<h3 id="source-backend-ldap-servers">Source Backend LDAP Servers<a class="headerlink" href="#source-backend-ldap-servers" title="Permanent link">#</a></h3>
<p><img alt="Source Backend" src="../../img/admin-guide/user/admin_cache_sourcebackend.png" /></p>
<p>This section allows the Gluu Server to connect to the backend Active
Directory/LDAP server of the organization.</p>
<ul>
<li>
<p><em>Name:</em> Please input <strong>source</strong> as the value.</p>
</li>
<li>
<p><em>Use Anonymous Bind:</em> Some customers do now allow username/password
  connections to their backend server. Enable this option if this applies
  to your organization.</p>
</li>
<li>
<p><em>Bind DN:</em> This contains the username to connect to the backend
  server. You need to use full DN here. As for example,
  <em>cn=gluu,dc=company,dc=org</em>.</p>
</li>
<li>
<p><em>Use SSL:</em> Use this feature if the backend server allows SSL
  connectivity.</p>
</li>
<li>
<p><em>Max Connections:</em> This value defines the maximum number of
  connections that are allowed to read the backend Active Directory/LDAP
  server. It is recommended to keep the value of 2 or 3.</p>
</li>
<li>
<p><em>Server:</em> This contains the backend Active Directory/LDAP server
  hostname with port i.e. backend.organization.com:389. If organization
  has a failover server, click <strong>Add Server</strong> and add more hostnames with
  port.</p>
</li>
<li>
<p><em>Base DN:</em> This contains the location of the Active Directory/LDAP
  tree from where the Gluu Server shall read the user information.</p>
</li>
<li>
<p><em>Enabled:</em> This check-box is used to save and push the changes. Do not
  use this unless the server administrator has entered all the required
  values.</p>
</li>
<li>
<p><em>Change Bind Password:</em> This can be used for a new password or to
  change any existing password.</p>
</li>
</ul>
<p>If your organization has a multiple Active Directory/LDAP server, click
on <strong>Add source LDAP server</strong> and add the additional server information.
Please remember that a <em>failover server</em> is not a new server.</p>
<h3 id="inum-ldap-server">Inum LDAP Server<a class="headerlink" href="#inum-ldap-server" title="Permanent link">#</a></h3>
<p><img alt="Inum LDAP Server" src="../../img/admin-guide/user/admin_cache_inum.png" /></p>
<p>This section of the application allows the server administrator to
connect to the internal LDAP of the Gluu Server. As Gluu Server
administrator, you do not need to insert anything here in this section
as new Gluu Server versions automatically populates this for you (unless
you try to manually configure it anyway).</p>
<ul>
<li>
<p><em>Refresh Method:</em> The Gluu Server allows the Server Administrator to
  apply two types of Cache Refresh mechanism--(i) VDS Method and (ii) Copy
  Method.</p>
</li>
<li>
<p><em>VDS Method:</em> Any organization with a database like <em>mysql</em> can use
  the VDS method. This option can be enabled via the drop-down menu in
  Refresh Method option.</p>
</li>
</ul>
<p><img alt="Refresh VDS" src="../../img/admin-guide/user/admin_cache_refresh_vds.png" /></p>
<ol>
<li><em>Copy Method:</em> If the organization has any kind of Active
  Directory/LDAP server, they are strongly recommended to use the <em>Copy
  Method</em> from the drop-down menu.</li>
</ol>
<p><img alt="Refresh Copy" src="../../img/admin-guide/user/admin_cache_refresh_copy.png" /></p>
<h3 id="attributes-mapping">Attributes Mapping<a class="headerlink" href="#attributes-mapping" title="Permanent link">#</a></h3>
<p>When the Copy method is selected, a section for Attribute mapping will
be exposed. In this section, the Gluu Server Administrator can map any
attribute from the backend Active Directory/LDAP to the LDAP cache of
the Gluu Server.</p>
<p><img alt="Attribute Mapping" src="../../img/admin-guide/user/admin_cache_mapattribute.png" /></p>
<p>In the source attribute to destination attribute mapping field, you can
enter the source attribute value on the left, and the destination
attribute on the right. In other words, you can specify what the
attribute is on the backend in the left field, and what it should be
rendered as when it comes through the Gluu Server in the right field.</p>
<p>The Administrator can select any Cache Refresh Method according to the
backend Active Directory/LDAP server, but there are some essential
values for both types of cache refresh method. The values are given
below.</p>
<ul>
<li>
<p><em>Pooling Interval (Minutes):</em> This is the interval value for running
    the Cache Refresh mechanism in the Gluu Server. It is recommended to 
    be kept higher than 15 minutes.</p>
</li>
<li>
<p><em>Script File Name:</em> The Gluu Server cache refresh can accept any
    kind of Jython Script which might help to calculate any custom/complex
    attribute i.e. eduPersonScopedAffiliation. For more information please
    contact Gluu Support.</p>
</li>
<li>
<p><em>Snapshot Folder:</em> Every cycle of of Gluu Server Cache Refresh cycle
    saves an overall snapshot and problem-list record on a specified
    location. This is where the Gluu Server Administrator can specify the
    location. You can easily decide whether cache refresh synchronizes all
    users or not. Generally the rejected users are enclosed in the
    problem-list file. An overall report is displayed at the top of the
    cache refresh page with headings <strong>Updated at the last run</strong> and
    <strong>Problems at the last run</strong>.</p>
</li>
<li>
<p><em>Snapshot Count:</em> This defines the total number of snapshots that
    are allowed to be saved in the hard drive of the VM. It is recommended
    to be kept to 20 snapshots.</p>
</li>
</ul>
<p>Latest Gluu Servers (including Community Edition) introduced two
upgraded sections here.</p>
<ul>
<li>
<p><em>Server IP Address:</em> Include the IP of your Gluu Server here. This
    feature helps to run Cache Refresh mechanism perfectly in a clustered
    environment.</p>
</li>
<li>
<p><em>Removed Script File Name location:</em> New version of the Gluu Server
    allows the administrator to manage your custom scripts with more
    interactive section under configuration named Manage Custom Scripts.</p>
</li>
<li>
<p><em>Update:</em> This button is used to push the changes in the Gluu
    Server. Hit this button only when the values have been entered,
    completely.</p>
</li>
<li>
<p><em>Update and Validate Script:</em> This button is used to test the
    operation and integrity of any custom script such as a Jython Script.</p>
</li>
</ul>
<h2 id="scim-20">SCIM 2.0<a class="headerlink" href="#scim-20" title="Permanent link">#</a></h2>
<p>This section outlines how to add/remove user from Gluu Server CE using <a href="https://github.com/GluuFederation/SCIM-Client">SCIM-Client</a>.</p>
<h3 id="add-user">Add User<a class="headerlink" href="#add-user" title="Permanent link">#</a></h3>
<p>There are two methods to add users:</p>
<ol>
<li><a href="#json-string">JSON Sting</a></li>
<li><a href="#user-object">User Object</a></li>
</ol>
<h4 id="required-parameters">Required Parameters<a class="headerlink" href="#required-parameters" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userName</td>
<td>The intended username for the end-user</td>
</tr>
<tr>
<td>givenName</td>
<td>The first name of the end-user</td>
</tr>
<tr>
<td>familyName</td>
<td>The last name of the end-user</td>
</tr>
<tr>
<td>displayName</td>
<td>The formatted first name followed by last name</td>
</tr>
<tr>
<td><em>groups</em></td>
<td>Optional parameter if the user is added to any specific group</td>
</tr>
</tbody>
</table>
<h4 id="json-string">JSON String<a class="headerlink" href="#json-string" title="Permanent link">#</a></h4>
<p>The user is added using a JSON object string using the required parameters; however it is possible to add more parameters. The following is an example of a JSON string used to add a user.</p>
<pre><code>        Scim2Client client = Scim2Client.umaInstance(domain, umaMetaDataUrl, umaAatClientId, umaAatClientJksPath, umaAatClientJksPassword, umaAatClientKeyId);
        String createJson = {&quot;schemas&quot;:[&quot;urn:ietf:params:scim:schemas:core:2.0:User&quot;],&quot;externalId&quot;:&quot;12345&quot;,&quot;userName&quot;:&quot;newUser&quot;,&quot;name&quot;:{&quot;givenName&quot;:&quot;json&quot;,&quot;familyName&quot;:&quot;json&quot;,&quot;middleName&quot;:&quot;N/A&quot;,&quot;honorificPrefix&quot;:&quot;&quot;,&quot;honorificSuffix&quot;:&quot;&quot;},&quot;displayName&quot;:&quot;json json&quot;,&quot;nickName&quot;:&quot;json&quot;,&quot;profileUrl&quot;:&quot;http://www.gluu.org/&quot;,&quot;emails&quot;:[{&quot;value&quot;:&quot;json@gluu.org&quot;,&quot;type&quot;:&quot;work&quot;,&quot;primary&quot;:&quot;true&quot;},{&quot;value&quot;:&quot;json2@gluu.org&quot;,&quot;type&quot;:&quot;home&quot;,&quot;primary&quot;:&quot;false&quot;}],&quot;addresses&quot;:[{&quot;type&quot;:&quot;work&quot;,&quot;streetAddress&quot;:&quot;621 East 6th Street Suite 200&quot;,&quot;locality&quot;:&quot;Austin&quot;,&quot;region&quot;:&quot;TX&quot;,&quot;postalCode&quot;:&quot;78701&quot;,&quot;country&quot;:&quot;US&quot;,&quot;formatted&quot;:&quot;621 East 6th Street Suite 200  Austin , TX 78701 US&quot;,&quot;primary&quot;:&quot;true&quot;}],&quot;phoneNumbers&quot;:[{&quot;value&quot;:&quot;646-345-2346&quot;,&quot;type&quot;:&quot;work&quot;}],&quot;ims&quot;:[{&quot;value&quot;:&quot;nynytest_user&quot;,&quot;type&quot;:&quot;Skype&quot;}],&quot;userType&quot;:&quot;CEO&quot;,&quot;title&quot;:&quot;CEO&quot;,&quot;preferredLanguage&quot;:&quot;en-us&quot;,&quot;locale&quot;:&quot;en_US&quot;,&quot;active&quot;:&quot;true&quot;,&quot;password&quot;:&quot;secret&quot;,&quot;groups&quot;:[{&quot;display&quot;:&quot;Gluu Test Group&quot;,&quot;value&quot;:&quot;@!9B22.5F33.7D8D.B890!0001!880B.F95A!0003!60B7&quot;}],&quot;roles&quot;:[{&quot;value&quot;:&quot;Owner&quot;}],&quot;entitlements&quot;:[{&quot;value&quot;:&quot;full access&quot;}],&quot;x509Certificates&quot;:[{&quot;value&quot;:&quot;cert-12345&quot;}]}
        ScimResponse response = client.createPersonString(createJson, MediaType.APPLICATION_JSON);
</code></pre>

<h4 id="user-object">User Object<a class="headerlink" href="#user-object" title="Permanent link">#</a></h4>
<p>The following code snippet uses the User object.</p>
<pre><code>        User user = new User();

        Name name = new Name();
        name.setGivenName(&quot;Given Name&quot;);
        name.setMiddleName(&quot;Middle Name&quot;);
        name.setFamilyName(&quot;Family Name&quot;);
        user.setName(name);

        user.setActive(true);

        user.setUserName(&quot;newUser_&quot; +  + new Date().getTime());
        user.setPassword(&quot;secret&quot;);
        user.setDisplayName(&quot;Display Name&quot;);
        user.setNickName(&quot;Nickname&quot;);
        user.setProfileUrl(&quot;&quot;);
        user.setLocale(&quot;en&quot;);
        user.setPreferredLanguage(&quot;US_en&quot;);

        List&lt;Email&gt; emails = new ArrayList&lt;Email&gt;();
        Email email = new Email();
        email.setPrimary(true);
        email.setValue(&quot;a@b.com&quot;);
        email.setDisplay(&quot;a@b.com&quot;);
        email.setType(Email.Type.WORK);
        email.setReference(&quot;&quot;);
        emails.add(email);
        user.setEmails(emails);

        List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;PhoneNumber&gt;();
        PhoneNumber phoneNumber = new PhoneNumber();
        phoneNumber.setPrimary(true);
        phoneNumber.setValue(&quot;123-456-7890&quot;);
        phoneNumber.setDisplay(&quot;123-456-7890&quot;);
        phoneNumber.setType(PhoneNumber.Type.WORK);
        phoneNumber.setReference(&quot;&quot;);
        phoneNumbers.add(phoneNumber);
        user.setPhoneNumbers(phoneNumbers);

        List&lt;Address&gt; addresses = new ArrayList&lt;Address&gt;();
        Address address = new Address();
        address.setPrimary(true);
        address.setValue(&quot;test&quot;);
        address.setDisplay(&quot;My Address&quot;);
        address.setType(Address.Type.WORK);
        address.setReference(&quot;&quot;);
        address.setStreetAddress(&quot;My Street&quot;);
        address.setLocality(&quot;My Locality&quot;);
        address.setPostalCode(&quot;12345&quot;);
        address.setRegion(&quot;My Region&quot;);
        address.setCountry(&quot;My Country&quot;);
        address.setFormatted(&quot;My Formatted Address&quot;);
        addresses.add(address);
        user.setAddresses(addresses);

        ScimResponse response = client.createUser(user, new String[]{});
        System.out.println(&quot;response body = &quot; + response.getResponseBodyString());

        assertEquals(response.getStatusCode(), 201, &quot;Could not add user, status != 201&quot;);

        User userCreated = Util.toUser(response, client.getUserExtensionSchema());
        String id = userCreated.getId();
</code></pre>

<h3 id="delete-user">Delete User<a class="headerlink" href="#delete-user" title="Permanent link">#</a></h3>
<p>To delete a user only the id (the LDAP <code>inum</code>) is needed.</p>
<pre><code>        ScimResponse response = client.deletePerson(id);
        assertEquals(response.getStatusCode(), 200, &quot;User could not be deleted, status != 200&quot;);
</code></pre>

<h4 id="required-parameter">Required Parameter<a class="headerlink" href="#required-parameter" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>The LDAP <code>inum</code> of the user to be deleted</td>
</tr>
</tbody>
</table>
<h3 id="user-extensions">User Extensions<a class="headerlink" href="#user-extensions" title="Permanent link">#</a></h3>
<p>User Extensions allow you to create Custom Attributes in SCIM 2.0. 
Set the custom attribute's <code>SCIM Attribute</code> parameter to <code>true</code> in oxTrust GUI and 
it will be recognized as a User Extension. This is required to create new custom attributes.</p>
<p><img alt="image" src="../../img/admin-guide/user/scim-attribute.png" /></p>
<p>You can verify the User Extensions via the <code>Schema</code> endpoint:</p>
<p><code>&lt;domain root&gt;/identity/seam/resource/restv1/scim/v2/Schemas/urn:ietf:params:scim:schemas:extension:gluu:2.0:User</code></p>
<p><img alt="image" src="../../img/admin-guide/user/scim-custom-first.png" /></p>
<p>Now for the actual code, you can refer to the unit tests in SCIM-Client:</p>
<ul>
<li><a href="../../src/test/java/gluu/scim2/client/UserExtensionsObjectTest.java">UserExtensionsObjectTest</a></li>
<li><a href="../../src/test/java/gluu/scim2/client/UserExtensionsJsonTest.java">UserExtensionsJsonTest</a></li>
</ul>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../authn-guide/customauthn/" title="Custom Authentication" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Custom Authentication
              </span>
            </div>
          </a>
        
        
          <a href="../session/" title="Session Timeout" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Session Timeout
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016, Gluu, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>